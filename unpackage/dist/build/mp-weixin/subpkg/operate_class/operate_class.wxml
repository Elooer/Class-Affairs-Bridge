<view><uni-nav-bar vue-id="5b63a650-1" title="{{title}}" statusBar="{{true}}" backgroundColor="#127ddb" color="#ffffff" fixed="true" left-icon="left" left-text="返回" data-event-opts="{{[['^clickLeft',[['back']]]]}}" bind:clickLeft="__e" bind:__l="__l"></uni-nav-bar><block wx:if="{{title==='创建班级'}}"><view class="create"><uni-card vue-id="5b63a650-2" title="班级资料" mode="style" is-shadow="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-forms class="vue-ref" vue-id="{{('5b63a650-3')+','+('5b63a650-2')}}" rules="{{rules}}" modelValue="{{formData}}" data-ref="form1" bind:__l="__l" vue-slots="{{['default']}}"><uni-forms-item vue-id="{{('5b63a650-4')+','+('5b63a650-3')}}" label="班级号:" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput vue-id="{{('5b63a650-5')+','+('5b63a650-4')}}" disabled="{{true}}" type="text" placeholder="由平台设定" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('5b63a650-6')+','+('5b63a650-3')}}" label="班级名称:" name="className" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('5b63a650-7')+','+('5b63a650-6')}}" type="text" placeholder="请输入班级名例如:软件2010" clearable="false" value="{{formData.className}}" data-event-opts="{{[['^input',[['__set_model',['$0','className','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('5b63a650-8')+','+('5b63a650-3')}}" label="你的姓名:" name="name" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('5b63a650-9')+','+('5b63a650-8')}}" type="text" placeholder="请输入你的姓名" clearable="false" value="{{formData.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item></uni-forms></uni-card><button class="btn" hover-class="button-hover" data-event-opts="{{[['tap',[['createClass',['$event']]]]]}}" bindtap="__e">创建</button></view></block><block wx:else><block wx:if="{{title==='加入班级'}}"><view class="join"><uni-card vue-id="5b63a650-10" bind:__l="__l" vue-slots="{{['default']}}"><uni-forms class="vue-ref" vue-id="{{('5b63a650-11')+','+('5b63a650-10')}}" rules="{{rules}}" modelValue="{{formData}}" data-ref="form" bind:__l="__l" vue-slots="{{['default']}}"><uni-forms-item vue-id="{{('5b63a650-12')+','+('5b63a650-11')}}" label="班级号:" name="classNumber" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('5b63a650-13')+','+('5b63a650-12')}}" type="text" placeholder="输入五位班级号" value="{{formData.classNumber}}" data-event-opts="{{[['^input',[['__set_model',['$0','classNumber','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item><uni-forms-item vue-id="{{('5b63a650-14')+','+('5b63a650-11')}}" label="姓名:" name="name" bind:__l="__l" vue-slots="{{['default']}}"><uni-easyinput bind:input="__e" vue-id="{{('5b63a650-15')+','+('5b63a650-14')}}" type="text" placeholder="请输入你的姓名" clearable="false" value="{{formData.myName}}" data-event-opts="{{[['^input',[['__set_model',['$0','myName','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></uni-forms-item></uni-forms></uni-card><view class="chose"><uni-combox bind:input="__e" vue-id="5b63a650-16" candidates="{{candidates}}" placeholder="请选择你的身份" value="{{identity}}" data-event-opts="{{[['^input',[['__set_model',['','identity','$event',[]]]]]]}}" bind:__l="__l"></uni-combox></view><button class="btn" type="myType" data-event-opts="{{[['tap',[['joinClass',['$event']]]]]}}" bindtap="__e">加入</button></view></block><block wx:else><block wx:if="{{title==='班级成员'}}"><view class="m_list"><view class="manage"><view>选项</view><view data-event-opts="{{[['tap',[['settingClass',['$event']]]]]}}" bindtap="__e"><uni-icons vue-id="5b63a650-17" type="settings" size="25" bind:__l="__l"></uni-icons></view></view><view class="classify">班委</view><block wx:for="{{stuList}}" wx:for-item="item" wx:for-index="index" wx:key="id"><block wx:if="{{item.srole===0||item.srole===1}}"><view class="item_com"><view class="left"><image class="avatar _img" src="{{item.portrait}}"></image><view class="com">班委</view><view class="name">{{item.sname}}</view></view><block wx:if="{{item.srole!==0&&srole===0}}"><view data-event-opts="{{[['tap',[['mangeStudent',[item.sid+'',item.srole+'']]]]]}}" class="right" bindtap="__e"><uni-icons vue-id="{{'5b63a650-18-'+index}}" type="more-filled" size="25" color="#676767" bind:__l="__l"></uni-icons></view></block></view></block></block><view class="classify">学生</view><block wx:for="{{stuList}}" wx:for-item="item" wx:for-index="index" wx:key="id"><block wx:if="{{item.srole===2}}"><view class="item_stu"><view class="left"><image class="avatar _img" src="{{item.portrait}}"></image><view class="stu">学生</view><view class="name">{{item.sname}}</view></view><block wx:if="{{srole===0}}"><view data-event-opts="{{[['tap',[['mangeStudent',[item.sid+'',item.srole+'']]]]]}}" class="right" bindtap="__e"><uni-icons vue-id="{{'5b63a650-19-'+index}}" type="more-filled" size="25" color="#676767" bind:__l="__l"></uni-icons></view></block></view></block></block></view></block></block></block><block wx:for="{{classList}}" wx:for-item="item" wx:for-index="i" wx:key="cid"><view data-event-opts="{{[['tap',[['switchClass',['$0'],[[['classList','cid',item.cid,'cid']]]]]]]}}" class="class_list" bindtap="__e"><view class="cname">{{"班级："+item.cname}}</view><view class="cid">{{"班级号:"+item.cid}}</view><image class="logo" src="http://43.138.133.249:8080/pictures/class_item.png" mode></image></view></block><mpopup class="vue-ref" vue-id="5b63a650-20" isdistance="{{true}}" data-ref="mpopup" bind:__l="__l"></mpopup><wyb-popup class="pop vue-ref" vue-id="5b63a650-21" type="center" height="250" width="350" radius="6" duration="200" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><view class="mange_stu_box"><view data-event-opts="{{[['tap',[['changeIdentity',['$event']]]]]}}" class="change" bindtap="__e">修改身份</view><view data-event-opts="{{[['tap',[['removeStudent',['$event']]]]]}}" class="remove" bindtap="__e">移出班级</view></view></wyb-popup><wyb-popup class="pop vue-ref" vue-id="5b63a650-22" type="bottom" height="250" width="500" radius="6" duration="200" data-ref="popup1" bind:__l="__l" vue-slots="{{['default']}}"><view class="class_setting"><view data-event-opts="{{[['tap',[['changeMyName',['$event']]]]]}}" class="change_student_name" bindtap="__e">修改我的名称</view><block wx:if="{{srole===0}}"><view data-event-opts="{{[['tap',[['dissolveClass',['$event']]]]]}}" class="dissolve" bindtap="__e">解散班级</view></block><block wx:if="{{srole===0}}"><view data-event-opts="{{[['tap',[['changeClassName',['$event']]]]]}}" class="change_class_name" bindtap="__e">修改班级名称</view></block><view data-event-opts="{{[['tap',[['exitClass',['$event']]]]]}}" class="exit" bindtap="__e">退出班级</view></view></wyb-popup><wyb-popup class="pop vue-ref" vue-id="5b63a650-23" type="center" height="250" width="400" radius="6" duration="200" data-ref="popup2" bind:__l="__l" vue-slots="{{['default']}}"><view class="change_name"><input class="new_name" type="text" data-event-opts="{{[['input',[['__set_model',['','newName','$event',[]]]]]]}}" value="{{newName}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['submitNewName',['$event']]]]]}}" class="confirm" bindtap="__e">确定</button></view></wyb-popup><wyb-popup class="pop vue-ref" vue-id="5b63a650-24" type="center" height="250" width="400" radius="6" duration="200" data-ref="popup3" bind:__l="__l" vue-slots="{{['default']}}"><view class="change_name"><input class="new_name" type="text" data-event-opts="{{[['input',[['__set_model',['','newName','$event',[]]]]]]}}" value="{{newName}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['submitNewClassName',['$event']]]]]}}" class="confirm" bindtap="__e">确定</button></view></wyb-popup></view>