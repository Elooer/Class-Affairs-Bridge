{"version":3,"sources":["uni-app:///main.js","webpack:///E:/前端学习/微信小程序/Class-Affairs-Bridge/subpkg/operate_class/operate_class.vue?245e","webpack:///E:/前端学习/微信小程序/Class-Affairs-Bridge/subpkg/operate_class/operate_class.vue?a542","webpack:///E:/前端学习/微信小程序/Class-Affairs-Bridge/subpkg/operate_class/operate_class.vue?0c0a","webpack:///E:/前端学习/微信小程序/Class-Affairs-Bridge/subpkg/operate_class/operate_class.vue?e207","uni-app:///subpkg/operate_class/operate_class.vue","webpack:///E:/前端学习/微信小程序/Class-Affairs-Bridge/subpkg/operate_class/operate_class.vue?aa14","webpack:///E:/前端学习/微信小程序/Class-Affairs-Bridge/subpkg/operate_class/operate_class.vue?f217"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"subpkg/operate_class/operate_class.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/operate_class/operate_class.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./operate_class.vue?vue&type=template&id=9f43ed14&\"\nvar renderjs\nimport script from \"./operate_class.vue?vue&type=script&lang=js&\"\nexport * from \"./operate_class.vue?vue&type=script&lang=js&\"\nimport style0 from \"./operate_class.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/operate_class/operate_class.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./operate_class.vue?vue&type=template&id=9f43ed14&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uniCard: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-card/components/uni-card/uni-card\" */ \"@/uni_modules/uni-card/components/uni-card/uni-card.vue\"\n      )\n    },\n    uniForms: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniCombox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-combox/components/uni-combox/uni-combox\" */ \"@/uni_modules/uni-combox/components/uni-combox/uni-combox.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    wybPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/wyb-popup/wyb-popup\" */ \"@/components/wyb-popup/wyb-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./operate_class.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./operate_class.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <uni-nav-bar :title=\"title\" statusBar backgroundColor=\"#127ddb\" color=\"#ffffff\" fixed=\"true\" left-icon=\"left\"\r\n      left-text=\"返回\" @clickLeft=\"back\"></uni-nav-bar>\r\n    <!-- 创建班级 -->\r\n    <view class=\"create\" v-if=\"title === '创建班级'\">\r\n      <uni-card title=\"班级资料\" mode=\"style\" :is-shadow=\"true\">\r\n        <uni-forms ref=\"form1\" :rules=\"rules\" :modelValue=\"formData\">\r\n          <uni-forms-item label=\"班级号:\">\r\n            <uni-easyinput disabled type=\"text\" placeholder=\"由平台设定\" />\r\n          </uni-forms-item>\r\n          <uni-forms-item label=\"班级名称:\" name=\"className\">\r\n            <uni-easyinput type=\"text\" v-model=\"formData.className\" placeholder=\"请输入班级名例如:软件2010\" clearable=false />\r\n          </uni-forms-item>\r\n          <uni-forms-item label=\"你的姓名:\" name=\"name\">\r\n            <uni-easyinput type=\"text\" v-model=\"formData.name\" placeholder=\"请输入你的姓名\" clearable=false />\r\n          </uni-forms-item>\r\n        </uni-forms>\r\n      </uni-card>\r\n      <button class=\"btn\" hover-class=\"button-hover\" @click=\"createClass\">创建</button>\r\n    </view>\r\n    <!-- 加入班级 -->\r\n    <view class=\"join\" v-else-if=\"title === '加入班级'\">\r\n      <uni-card>\r\n        <uni-forms ref=\"form\" :rules=\"rules\" :modelValue=\"formData\">\r\n          <uni-forms-item label=\"班级号:\" name=\"classNumber\">\r\n            <uni-easyinput type=\"text\" v-model=\"formData.classNumber\" placeholder=\"输入五位班级号\" />\r\n          </uni-forms-item>\r\n          <uni-forms-item label=\"姓名:\" name=\"name\">\r\n            <uni-easyinput type=\"text\" v-model=\"formData.myName\" placeholder=\"请输入你的姓名\" clearable=false />\r\n          </uni-forms-item>\r\n        </uni-forms>\r\n      </uni-card>\r\n      <view class=\"chose\">\r\n        <uni-combox :candidates=\"candidates\" placeholder=\"请选择你的身份\" v-model=\"identity\"></uni-combox>\r\n      </view>\r\n      <button class=\"btn\" type=\"myType\" @click=\"joinClass\">加入</button>\r\n    </view>\r\n    <!-- 班级成员 -->\r\n    <view class=\"m_list\" v-else-if=\"title === '班级成员'\">\r\n      <view class=\"manage\">\r\n        <view class=\"\">选项</view>\r\n        <view class=\"\" @click=\"settingClass\">\r\n          <uni-icons type=\"settings\" size=\"25\"></uni-icons>\r\n        </view>\r\n      </view>\r\n      <view class=\"classify\">班委</view>\r\n      <view class=\"item_com\" v-for=\"(item, index) in stuList\" :key=\"item.id\"\r\n        v-if=\"item.srole === 0 || item.srole === 1\">\r\n        <view class=\"left\">\r\n          <img :src=\"item.portrait\" class=\"avatar\">\r\n          <view class=\"com\">班委</view>\r\n          <view class=\"name\">{{item.sname}}</view>\r\n        </view>\r\n        <view class=\"right\" v-if=\"item.srole !== 0 && srole === 0\"\r\n          @click=\"mangeStudent(item.sid + '', item.srole + '')\">\r\n          <uni-icons type=\"more-filled\" size=\"25\" color=\"#676767\"></uni-icons>\r\n        </view>\r\n      </view>\r\n      <view class=\"classify\">学生</view>\r\n      <view class=\"item_stu\" v-for=\"(item, index) in stuList\" :key=\"item.id\" v-if=\"item.srole === 2\">\r\n        <view class=\"left\">\r\n          <img :src=\"item.portrait\" class=\"avatar\">\r\n          <view class=\"stu\">学生</view>\r\n          <view class=\"name\">{{item.sname}}</view>\r\n        </view>\r\n        <!-- 这里的方法传参数据没问题，但必须转成字符串方法内部才能正确拿到 -->\r\n        <view class=\"right\" v-if=\"srole === 0\" @click=\"mangeStudent(item.sid + '', item.srole + '')\">\r\n          <uni-icons type=\"more-filled\" size=\"25\" color=\"#676767\"></uni-icons>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- 班级列表 -->\r\n    <view class=\"class_list\" v-for=\"(item, i) in classList\" :key=\"item.cid\" @click=\"switchClass(item.cid)\">\r\n      <view class=\"cname\">班级：{{item.cname}}</view>\r\n      <view class=\"cid\">班级号:{{item.cid}}</view>\r\n      <image class=\"logo\" src=\"http://43.138.133.249:8080/pictures/class_item.png\" mode=\"\"></image>\r\n    </view>\r\n    <mpopup ref=\"mpopup\" :isdistance=\"true\"></mpopup>\r\n    <!-- 群主对成员的操作列表 -->\r\n    <wyb-popup class=\"pop\" ref=\"popup\" type=\"center\" height=\"250\" width=\"350\" radius=\"6\" duration=\"200\">\r\n      <view class=\"mange_stu_box\">\r\n        <view class=\"change\" @click=\"changeIdentity\">修改身份</view>\r\n        <view class=\"remove\" @click=\"removeStudent\">移出班级</view>\r\n      </view>\r\n    </wyb-popup>\r\n    <!-- 班级操作列表 -->\r\n    <wyb-popup class=\"pop\" ref=\"popup1\" type=\"bottom\" height=\"250\" width=\"500\" radius=\"6\" duration=\"200\">\r\n      <view class=\"class_setting\">\r\n        <view class=\"change_student_name\" @click=\"changeMyName\">修改我的名称</view>\r\n        <view class=\"dissolve\" v-if=\"srole === 0\" @click=\"dissolveClass\">解散班级</view>\r\n        <view class=\"change_class_name\" v-if=\"srole === 0\" @click=\"changeClassName\">修改班级名称</view>\r\n        <view class=\"exit\" @click=\"exitClass\">退出班级</view>\r\n      </view>\r\n    </wyb-popup>\r\n    <!-- 修改个人名字 -->\r\n    <wyb-popup class=\"pop\" ref=\"popup2\" type=\"center\" height=\"250\" width=\"400\" radius=\"6\" duration=\"200\">\r\n      <view class=\"change_name\">\r\n        <input class=\"new_name\" type=\"text\" v-model=\"newName\">\r\n        <button class=\"confirm\" @click=\"submitNewName\">确定</button>\r\n      </view>\r\n    </wyb-popup>\r\n    <!-- 修改班级名字 -->\r\n    <wyb-popup class=\"pop\" ref=\"popup3\" type=\"center\" height=\"250\" width=\"400\" radius=\"6\" duration=\"200\">\r\n      <view class=\"change_name\">\r\n        <input class=\"new_name\" type=\"text\" v-model=\"newName\">\r\n        <button class=\"confirm\" @click=\"submitNewClassName\">确定</button>\r\n      </view>\r\n    </wyb-popup>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    mapState,\r\n    mapMutations\r\n  } from 'vuex'\r\n  import mpopup from '../../components/xuan-popup/xuan-popup.vue'\r\n  import wybPopup from '@/components/wyb-popup/wyb-popup.vue'\r\n  export default {\r\n    components: {\r\n      mpopup,\r\n      wybPopup\r\n    },\r\n    onLoad(option) {\r\n      this.title = option.title\r\n      if (option.cid) {\r\n        this.cid = option.cid\r\n        this.getStuList()\r\n      }\r\n      if (option.classList) {\r\n        this.classList = JSON.parse(option.classList)\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        // 导航栏标题\r\n        title: '',\r\n        // 传过来的班级号\r\n        cid: '',\r\n        // 班级列表\r\n        classList: [],\r\n        formData: {\r\n          name: '',\r\n          className: '',\r\n          myName: '',\r\n          classNumber: 0\r\n        },\r\n        // 组合框数据\r\n        candidates: ['班委', '学生'],\r\n        // 选中的身份数据\r\n        identity: '',\r\n        // 成员列表\r\n        stuList: [],\r\n        // 学生在班级的身份\r\n        srole: 2,\r\n        // 当前被点击学生的id\r\n        currentClickSid: 0,\r\n        // 当前被点击学生的权限\r\n        c_srole: '',\r\n        // 修改名字\r\n        newName: '',\r\n        rules: {\r\n          // 对name字段进行必填验证\r\n          name: {\r\n            rules: [{\r\n                required: true,\r\n                errorMessage: '请输入姓名',\r\n              },\r\n              {\r\n                minLength: 2,\r\n                maxLength: 5,\r\n                errorMessage: '姓名长度在 {minLength} 到 {maxLength} 个字符',\r\n              }\r\n            ],\r\n            validateTrigger: 'bind'\r\n          },\r\n          // 对className字段进行必填验证\r\n          className: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '请输入班级名称',\r\n            }, {\r\n              minLength: 2,\r\n              maxLength: 12,\r\n              errorMessage: '班级长度在 {minLength} 到 {maxLength} 个字符',\r\n            }],\r\n            validateTrigger: 'bind'\r\n          },\r\n          // 对classNumber字段进行必填验证\r\n          classNumber: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '请输入班级号',\r\n            }, {\r\n              format: 'number',\r\n              errorMessage: '请输入数字'\r\n            }],\r\n            validateTrigger: 'bind'\r\n          }\r\n        }\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState('my_user', ['id'])\r\n    },\r\n    methods: {\r\n      ...mapMutations('my_class', ['updateCurrent']),\r\n      back() {\r\n        uni.navigateBack({\r\n          delta: 1\r\n        })\r\n      },\r\n      // 获取学生列表并标识学生身份\r\n      async getStuList() {\r\n        const res = await uni.$http.get('/bwClass/getStudentList', {\r\n          cid: this.cid\r\n        })\r\n        this.stuList = res.data.data\r\n        this.srole = this.stuList.find(item => item.sid === this.id).srole\r\n      },\r\n      // 对班级的一些操作\r\n      settingClass() {\r\n        this.$refs.popup1.show()\r\n      },\r\n      // 修改个人在班级中的名称\r\n      changeMyName() {\r\n        this.$refs.popup1.hide()\r\n        this.$refs.popup2.show()\r\n      },\r\n      // 提交新名字\r\n      async submitNewName() {\r\n        this.$refs.popup2.hide()\r\n        const newNameObj = {\r\n          cid: this.cid,\r\n          sid: this.id,\r\n          newName: this.newName\r\n        }\r\n        const res = await uni.$http.put('/bwClass/replaceSname',newNameObj)\r\n        if (!res.data.flag) {\r\n          return this.$refs.mpopup.open({\r\n            type: 'err',\r\n            content: '修改失败！',\r\n            timeout: 1000,\r\n          })\r\n        }\r\n        this.getStuList()\r\n        this.$refs.mpopup.open({\r\n          type: 'success',\r\n          content: '修改成功！',\r\n          timeout: 1000,\r\n        })\r\n      },\r\n      // 解散班级\r\n      async dissolveClass() {\r\n        this.$refs.popup1.hide()\r\n        const [err, res] = await uni.showModal({\r\n          title: '提示',\r\n          content: '确定解散班级吗？'\r\n        }).catch(err => err)\r\n        if (res && res.confirm) {\r\n          const res = await uni.$http.delete('/bwClass/deleteClass',{\r\n            cid: this.cid,\r\n            sid: this.id\r\n          })\r\n          if (!res.data.flag) {\r\n            return this.$refs.mpopup.open({\r\n              type: 'err',\r\n              content: '解散失败！',\r\n              timeout: 1000,\r\n            })\r\n          }\r\n          this.$refs.mpopup.open({\r\n            type: 'success',\r\n            content: '解散成功！',\r\n            timeout: 1000,\r\n          })\r\n          setTimeout(() => {\r\n            this.back()\r\n          }, 1000)\r\n        }\r\n      },\r\n      // 退出班级\r\n      async exitClass() {\r\n        this.$refs.popup1.hide()\r\n        const [err, res] = await uni.showModal({\r\n          title: '提示',\r\n          content: '确定退出该班级吗？'\r\n        }).catch(err => err)\r\n        if (res && res.confirm) {\r\n          const res = await uni.$http.delete('/bwClass/exitClass',{\r\n            cid: this.cid,\r\n            sid: this.id\r\n          })\r\n          if (!res.data.flag) {\r\n            return this.$refs.mpopup.open({\r\n              type: 'err',\r\n              content: '退出失败！',\r\n              timeout: 1000,\r\n            })\r\n          }\r\n          this.$refs.mpopup.open({\r\n            type: 'success',\r\n            content: '退出班级成功！',\r\n            timeout: 1000,\r\n          })\r\n          setTimeout(() => {\r\n            this.back()\r\n          }, 1000)\r\n        }\r\n      },\r\n      // 修改班级名称\r\n      changeClassName() {\r\n        this.$refs.popup1.hide()\r\n        this.$refs.popup3.show()\r\n      },\r\n      // 提交新班级名\r\n      async submitNewClassName() {\r\n        this.$refs.popup3.hide()\r\n        const newNameObj = {\r\n          cid: this.cid,\r\n          newCname: this.newName\r\n        }\r\n        const res = await uni.$http.put('/bwClass/replaceCname',newNameObj)\r\n        if (!res.data.flag) {\r\n          return this.$refs.mpopup.open({\r\n            type: 'err',\r\n            content: '修改失败！',\r\n            timeout: 1000,\r\n          })\r\n        }\r\n        this.$refs.mpopup.open({\r\n          type: 'success',\r\n          content: '修改成功！',\r\n          timeout: 1000,\r\n        })\r\n        setTimeout(() => {\r\n          this.back()\r\n        }, 1000)\r\n      },\r\n      // 群主对班级成员进行操作\r\n      mangeStudent(sid, c_srole) {\r\n        this.currentClickSid = sid\r\n        this.c_srole = c_srole\r\n        this.$refs.popup.show()\r\n      },\r\n      // 将学生移出班级\r\n      async removeStudent() {\r\n        this.$refs.popup.hide()\r\n        const [err, res] = await uni.showModal({\r\n          title: '提示',\r\n          content: '确定移除该学生吗？'\r\n        }).catch(err => err)\r\n        if (res && res.confirm) {\r\n          const res = await uni.$http.delete('/bwClass/deleteStudent', {\r\n            cid: this.cid,\r\n            sid: this.currentClickSid\r\n          })\r\n          if (!res.data.flag) {\r\n            return this.$refs.mpopup.open({\r\n              type: 'err',\r\n              content: '移除失败！',\r\n              timeout: 1000,\r\n            })\r\n          }\r\n          this.getStuList()\r\n          this.$refs.mpopup.open({\r\n            type: 'success',\r\n            content: '移除成功！',\r\n            timeout: 1000,\r\n          })\r\n        }\r\n      },\r\n      // 修改学生身份\r\n      async changeIdentity() {\r\n        this.$refs.popup.hide()\r\n        // 参数对象\r\n        const changeObj = {\r\n          srole: 0,\r\n          cid: this.cid,\r\n          sid: this.currentClickSid,\r\n          replaceRole: this.c_srole === '2' ? 1 : 2\r\n        }\r\n        const identity = this.c_srole === '2' ? '班委' : '学生'\r\n        const [err, res] = await uni.showModal({\r\n          title: '提示',\r\n          content: `确定将该学生的权限修改为${identity}吗？`\r\n        }).catch(err => err)\r\n        if (res && res.confirm) {\r\n          const res = await uni.$http.put('/bwClass/replaceRole', changeObj)\r\n          if (!res.data.flag) {\r\n            return this.$refs.mpopup.open({\r\n              type: 'err',\r\n              content: '修改失败！',\r\n              timeout: 1000,\r\n            })\r\n          }\r\n          this.getStuList()\r\n          this.$refs.mpopup.open({\r\n            type: 'success',\r\n            content: '修改成功！',\r\n            timeout: 1000,\r\n          })\r\n        }\r\n      },\r\n      // 点击切换班级\r\n      switchClass(cid) {\r\n        this.updateCurrent(cid)\r\n        this.$refs.mpopup.open({\r\n          type: 'success',\r\n          content: '切换成功！',\r\n          timeout: 1000,\r\n        })\r\n        setTimeout(() => {\r\n          uni.switchTab({\r\n            url: '../../pages/class/class'\r\n          })\r\n        }, 1000)\r\n      },\r\n      // 创建班级\r\n      async createClass() {\r\n        const err = await this.$refs.form1.validate().catch(err => {\r\n          return err\r\n        })\r\n        if (err instanceof Array) {\r\n          return uni.$showMsg('请填写完整信息！')\r\n        }\r\n        const createInfo = {\r\n          id: this.id,\r\n          cname: this.formData.className,\r\n          sname: this.formData.name\r\n        }\r\n        const res = await uni.$http.post('/bwClass/addNewClass', createInfo)\r\n        if (res.statusCode !== 200) {\r\n          return this.$refs.mpopup.open({\r\n            type: 'err',\r\n            content: '创建失败！',\r\n            timeout: 1000,\r\n          })\r\n        }\r\n        // 将新的班级号替换当前班级号\r\n        this.updateCurrent(res.data.data.cid)\r\n        this.$refs.mpopup.open({\r\n          type: 'success',\r\n          content: '创建成功！',\r\n          timeout: 1000,\r\n        })\r\n        setTimeout(() => {\r\n          uni.switchTab({\r\n            url: '../../pages/class/class'\r\n          })\r\n        }, 1000)\r\n      },\r\n      // 加入班级\r\n      async joinClass() {\r\n        const err = await this.$refs.form.validate().catch(err => {\r\n          return err\r\n        })\r\n        if (err instanceof Array) {\r\n          return uni.$showMsg('请填写完整信息！')\r\n        }\r\n        if (!this.identity.length) {\r\n          return uni.$showMsg('请填写完整信息！')\r\n        }\r\n        // 加入班级的数据对象\r\n        const joinInfo = {\r\n          id: this.id,\r\n          cid: this.formData.classNumber,\r\n          sname: this.formData.myName,\r\n          srole: this.candidates.findIndex(e => e === this.identity) + 1\r\n        }\r\n        const res = await uni.$http.post('/bwClass/joinNewClass', joinInfo)\r\n        if (res.statusCode !== 200) {\r\n          return this.$refs.mpopup.open({\r\n            type: 'err',\r\n            content: '加入失败！',\r\n            timeout: 1000,\r\n          })\r\n        } else if (!res.data.flag) {\r\n          return uni.$showMsg(res.data.msg)\r\n        }\r\n        // 将新的班级号替换当前班级号\r\n        this.updateCurrent(res.data.data.cid)\r\n        this.$refs.mpopup.open({\r\n          type: 'success',\r\n          content: '加入成功！',\r\n          timeout: 1000,\r\n        })\r\n        setTimeout(() => {\r\n          uni.switchTab({\r\n            url: '../../pages/class/class'\r\n          })\r\n        }, 1000)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .btn {\r\n    width: 700rpx;\r\n    background-color: #127ddb;\r\n    color: #ffffff;\r\n    border-radius: 20px;\r\n  }\r\n\r\n  .chose {\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    margin: 10px;\r\n  }\r\n\r\n  .button-hover {\r\n    background-color: rgba(17, 124, 217, 0.5);\r\n  }\r\n\r\n  .m_list {\r\n    margin: 15rpx;\r\n    position: relative;\r\n\r\n    .manage {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 0 10px;\r\n      background-color: #fff;\r\n      height: 40px;\r\n      font-size: 18px;\r\n      text-align: end;\r\n      line-height: 40px;\r\n    }\r\n\r\n    .item_com,\r\n    .item_stu {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 60px;\r\n      background-color: #fff;\r\n      padding: 0 5px;\r\n      border-bottom: 1px solid #eee;\r\n\r\n      .left {\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 18px;\r\n\r\n        .avatar {\r\n          width: 40px;\r\n          height: 40px;\r\n          margin-right: 5px;\r\n        }\r\n\r\n        .com {\r\n          background-color: orange;\r\n          width: 30px;\r\n          height: 18px;\r\n          font-size: 12px;\r\n          color: #ffffff;\r\n          text-align: center;\r\n        }\r\n\r\n        .stu {\r\n          background-color: #a7a7a7;\r\n          width: 30px;\r\n          height: 18px;\r\n          font-size: 12px;\r\n          color: #ffffff;\r\n          text-align: center;\r\n        }\r\n\r\n        .name {\r\n          margin-left: 5px;\r\n          color: #676767;\r\n        }\r\n      }\r\n\r\n      .right {\r\n        position: absolute;\r\n        right: 10px;\r\n      }\r\n    }\r\n\r\n    .classify {\r\n      height: 30px;\r\n      line-height: 30px;\r\n      font-size: 15px;\r\n      color: #666;\r\n    }\r\n  }\r\n\r\n  .class_list {\r\n    position: relative;\r\n    height: 100px;\r\n    margin: 10px;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    background-color: #fff;\r\n    border: 1px solid orange;\r\n    border-radius: 10px;\r\n\r\n    .cname {\r\n      font-size: 20px;\r\n      margin-bottom: 20px;\r\n      font-weight: bold;\r\n      color: #1050db;\r\n    }\r\n\r\n    .cid {\r\n      color: #666666;\r\n    }\r\n\r\n    .logo {\r\n      position: absolute;\r\n      width: 45px;\r\n      height: 45px;\r\n      right: 17px;\r\n      top: 28px;\r\n    }\r\n  }\r\n\r\n  .mange_stu_box {\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    height: 100%;\r\n\r\n    .change {\r\n      border-bottom: 1px solid #ccc;\r\n      color: #127ddb;\r\n    }\r\n\r\n    .remove {\r\n      color: #db3a19;\r\n    }\r\n\r\n    .remove,\r\n    .change {\r\n      font-size: 18px;\r\n      text-align: center;\r\n      height: 50%;\r\n      line-height: 53px;\r\n\r\n    }\r\n  }\r\n\r\n  .class_setting {\r\n    box-sizing: border-box;\r\n    height: 100%;\r\n    padding: 10px;\r\n    text-align: center;\r\n\r\n    .change_student_name,\r\n    .dissolve,\r\n    .change_class_name,\r\n    .exit {\r\n      height: 50px;\r\n      border-bottom: 1px solid #ccc;\r\n      font-size: 18px;\r\n      line-height: 50px;\r\n    }\r\n\r\n    .dissolve {\r\n      color: #e27b30;\r\n    }\r\n\r\n    .exit {\r\n      border: 0;\r\n      color: #db3a19;\r\n    }\r\n  }\r\n\r\n  .change_name {\r\n    height: 100%;\r\n    padding: 10px;\r\n\r\n    .new_name {\r\n      height: 40px;\r\n      border: 1px solid #666;\r\n      padding-left: 10px;\r\n    }\r\n\r\n    .confirm {\r\n      margin-top: 10px;\r\n      width: 100px;\r\n      background-color: #127ddb;\r\n      color: #fff;\r\n    }\r\n  }\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./operate_class.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./operate_class.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1652083578198\n      var cssReload = require(\"E:/HBuilderX/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}